<div class="container">
    <div class="row">
        <div class="col-6 offset-3">
            <h2>Registration Form</h2>
            <hr/>
            {{registrationForm.value|json}}
            <form [formGroup]='registrationForm' >
                <div class="form-group">
                    <label >Name</label>
                    <input [class.is-invalid]='registrationForm.controls["name"].invalid && registrationForm.controls["name"].touched' formControlName="name" type="text" class="form-control"/>
                    
                    <div *ngIf="registrationForm.controls.name.touched && registrationForm.controls.name.invalid">
                        <small class="text-danger" *ngIf="registrationForm.controls.name.errors?.required">Name is required.</small>
                        <small class="text-danger" *ngIf="registrationForm.controls.name.errors?.minlength">Name must be of minimum 3 characters!</small>
                        <small class="text-danger" *ngIf="registrationForm.controls.name.errors?.forbiddenName">Name cannot be "{{registrationForm.controls.name.errors?.forbiddenName.value}}"</small>
                    </div>
                </div>
                <div class="form-group">
                    <label >Password</label>
                    <input formControlName="password" type="password" class="form-control">
                </div>
                
                <div class="form-group">
                    <label >Confirm Password</label>
                    <input  [class.is-invalid]='registrationForm.errors?.misMatch && registrationForm.controls.cnfpassword.touched' formControlName="cnfpassword" type="password" class="form-control">
                    
                    <div *ngIf="registrationForm.controls.cnfpassword.touched ">
                        
                        <small class="text-danger" *ngIf="registrationForm.hasError('misMatch') ">Password mismatched</small>
      
                    </div>
                </div>
                <div class="form-group">
                    <label >Email</label>
                    <input [class.is-invalid]='email.touched && email.invalid' formControlName="email" type="text" class="form-control">
                    <small class="text-danger" [class.d-none]="email.untouched || email.valid">Required for subsription.</small>
                </div>
                <button class="btn btn-secondary m-2" (click)=addField()>Add Email</button>
                <div formArrayName='alternateEmail' class="form-group" *ngFor="let e of alternateEmail.controls;let i=index">
                    <label >Email</label>
                    <input  [formControlName]="i" type="text" class="form-control">
                    
                </div>
                <div class="form-group">
                    <input type="checkbox" formControlName="subscribe" >
                    <label > Subscribe me offers!</label>
                    
                </div>
                <div formGroupName="address">
                    <div class="form-group">
                        <label >City</label>
                        <input formControlName="city" type="text" class="form-control"/>
                    </div>
                    <div class="form-group">
                        <label >Area</label>
                        <input formControlName="area" type="text" class="form-control"/>
                    </div>
                    <div class="form-group">
                        <label >Postal Code</label>
                        <input formControlName="postal" type="text" class="form-control"/>
                    </div>
                </div>
                <div class="form-group">
                    <button class="btn btn-primary" >Submit</button>
                </div>
               
            </form>
        </div>
    </div>
</div>

